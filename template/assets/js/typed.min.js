!function($){"use strict";var Typed=function(el,options){this.el=$(el),this.options=$.extend({},$.fn.typed.defaults,options),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=!this.isInput&&this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()};Typed.prototype={constructor:Typed,init:function(){var self=this;self.timeout=setTimeout((function(){for(var i=0;i<self.strings.length;++i)self.sequence[i]=i;self.shuffle&&(self.sequence=self.shuffleArray(self.sequence)),self.typewrite(self.strings[self.sequence[self.arrayPos]],self.strPos)}),self.startDelay)},build:function(){var self=this;if(!0===this.showCursor&&(this.cursor=$('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement){self.strings=[],this.stringsElement.hide();var strings=this.stringsElement.find("p");$.each(strings,(function(key,value){self.strings.push($(value).html())}))}this.init()},typewrite:function(curString,curStrPos){if(!0!==this.stop){var humanize=Math.round(70*Math.random())+this.typeSpeed,self=this;self.timeout=setTimeout((function(){var charPause=0,substr=curString.substr(curStrPos);if("^"===substr.charAt(0)){var skip=1;/^\^\d+/.test(substr)&&(skip+=(substr=/\d+/.exec(substr)[0]).length,charPause=parseInt(substr)),curString=curString.substring(0,curStrPos)+curString.substring(curStrPos+skip)}if("html"===self.contentType){var curChar=curString.substr(curStrPos).charAt(0);if("<"===curChar||"&"===curChar){var tag="",endTag="";for(endTag="<"===curChar?">":";";curString.substr(curStrPos).charAt(0)!==endTag;)tag+=curString.substr(curStrPos).charAt(0),curStrPos++;curStrPos++,tag+=endTag}}self.timeout=setTimeout((function(){if(curStrPos===curString.length){if(self.options.onStringTyped(self.arrayPos),self.arrayPos===self.strings.length-1&&(self.options.callback(),self.curLoop++,!1===self.loop||self.curLoop===self.loopCount))return;self.timeout=setTimeout((function(){self.backspace(curString,curStrPos)}),self.backDelay)}else{0===curStrPos&&self.options.preStringTyped(self.arrayPos);var nextString=curString.substr(0,curStrPos+1);self.attr?self.el.attr(self.attr,nextString):self.isInput?self.el.val(nextString):"html"===self.contentType?self.el.html(nextString):self.el.text(nextString),curStrPos++,self.typewrite(curString,curStrPos)}}),charPause)}),humanize)}},backspace:function(curString,curStrPos){if(!0!==this.stop){var humanize=Math.round(70*Math.random())+this.backSpeed,self=this;self.timeout=setTimeout((function(){if("html"===self.contentType&&">"===curString.substr(curStrPos).charAt(0)){for(var tag="";"<"!==curString.substr(curStrPos).charAt(0);)tag-=curString.substr(curStrPos).charAt(0),curStrPos--;curStrPos--,tag+="<"}var nextString=curString.substr(0,curStrPos);self.attr?self.el.attr(self.attr,nextString):self.isInput?self.el.val(nextString):"html"===self.contentType?self.el.html(nextString):self.el.text(nextString),curStrPos>self.stopNum?(curStrPos--,self.backspace(curString,curStrPos)):curStrPos<=self.stopNum&&(self.arrayPos++,self.arrayPos===self.strings.length?(self.arrayPos=0,self.shuffle&&(self.sequence=self.shuffleArray(self.sequence)),self.init()):self.typewrite(self.strings[self.sequence[self.arrayPos]],curStrPos))}),humanize)}},shuffleArray:function(array){var tmp,current,top=array.length;if(top)for(;--top;)tmp=array[current=Math.floor(Math.random()*(top+1))],array[current]=array[top],array[top]=tmp;return array},reset:function(){var self=this;clearInterval(this.timeout);var id=this.el.attr("id");this.el.after('<span id="'+id+'"/>'),this.el.remove(),void 0!==this.cursor&&this.cursor.remove(),this.options.resetCallback()}},$.fn.typed=function(option){return this.each((function(){var $this=$(this),data=$this.data("typed"),options="object"==typeof option&&option;data||$this.data("typed",data=new Typed(this,options)),"string"==typeof option&&data[option]()}))},$.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window.jQuery);