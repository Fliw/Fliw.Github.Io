(function(g){g.fn.textition=function(s){var a=g.extend({map:{x:100,y:50,z:1E3},speed:1,animation:"ease",handler:"click",perspective:300,autoplay:!1,interval:3,element:this},s),c=this,e=this.children(),n,k=0,f={},l,m=function(a){return Math.round(Math.random()*a)-a/2},p=function(){var b=0,d=0,h=0,c;for(c in a.map)switch(c){case "x":b=m(a.map.x);break;case "y":d=m(a.map.y);break;case "z":h=m(a.map.z)}g(this).css({"-webkit-transform":"translate3d("+b+"px, "+d+"px, "+h+"px)","-moz-transform":"translate3d("+
b+"px, "+d+"px, "+h+"px)","-ms-transform":"translate3d("+b+"px, "+d+"px, "+h+"px)","-o-transform":"translate3d("+b+"px, "+d+"px, "+h+"px)",transform:"translate3d("+b+"px, "+d+"px, "+h+"px)"})},t=function(){g(this).css({"-webkit-transform":"translate3d(0px, 0px, 0px)","-moz-transform":"translate3d(0px, 0px, 0px)","-ms-transform":"translate3d(0px, 0px, 0px)","-o-transform":"translate3d(0px, 0px, 0px)",transform:"translate3d(0px, 0px, 0px)"})},r=function(b){a.autoplay&&b&&!b.isTrigger&&(clearInterval(l),
l=setInterval(q,1E3*a.interval));g(e[k]).css("opacity",0).children().each(p);k++;k>e.length-1&&(k=0);g(e[k]).css("opacity",1).children().each(t)},u=function(){g(this).css({"-webkit-transform-style":"preserve-3d","-moz-transform-style":"preserve-3d","-ms-transform-style":"preserve-3d","-o-transform-style":"preserve-3d","transform-style":"preserve-3d","-webkit-transition":"opacity "+a.speed+"s "+a.animation,"-moz-transition":"opacity "+a.speed+"s "+a.animation,"-ms-transition":"opacity "+a.speed+"s "+
a.animation,"-o-transition":"opacity "+a.speed+"s "+a.animation,transition:"opacity "+a.speed+"s "+a.animation,position:"absolute",display:"block",width:f.width,left:f.left,top:f.top})},v=function(){g(this).css({"-webkit-transition":"-webkit-transform "+a.speed+"s "+a.animation,"-moz-transition":"-moz-transform "+a.speed+"s "+a.animation,"-ms-transition":"-ms-transform "+a.speed+"s "+a.animation,"-o-transition":"-o-transform "+a.speed+"s "+a.animation,transition:"transform "+a.speed+"s "+a.animation,
display:"inline-block"})},w=function(){for(var a=g(this),d=a.text(),c="",e=0;e<d.length;e++){var f;a:switch(f=d[e],f){case " ":f="&nbsp;";break a}c+="<l>"+f+"</l>"}a.html(c)},q=function(){r()};(function(){var b=e.first();f.top=b.offset().top-c.offset().top;f.left=b.offset().left-c.offset().left;f.width=b.width();b=e.not(":first");b.hide().css("opacity",0);var d=c.css("position");c.css({"-webkit-perspective":a.perspective+"px","-moz-perspective":a.perspective+"px","-ms-perspective":a.perspective+"px",
"-o-perspective":a.perspective+"px",perspective:a.perspective+"px",position:"static"===d?"relative":d,height:c.height(),width:c.width()});e.each(w);e.each(u);n=c.find("l");n.each(v);b.show().children().each(p);a.handler&&a.element.bind(a.handler,r);a.autoplay&&(l=setInterval(q,1E3*a.interval))})()}})(jQuery);